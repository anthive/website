## Введение

**AntHive** это многопользовательская соревновательная стратегия, в которой каждый игрок создает собственную колонию муравьев. Как и в реальной жизни, муравьи добывают **еду**, строят **гнезда**, защищаются от **врагов**. Здесь им придется доказать превосходство в умении эффективно расширять колонию в состязаниях с другими игроками.

**AntHive** - игра для людей с навыками программирования. В отличие от обычных стратегий, муравьи в AntHive реагируют на события так, как вы их запрограммируете. В текущей версии поддерживаются языки: Go, PHP, Javascript, C++, C#, Python. Код хранится в Git репозитории. Поддерживаются Github, Gitlab и Bitbucket
Вы создаете **бота**, который управляет муравьями вашей колонии и отправляете его в один из игровых режимов. Все игры происходят на сервере без вашего участия. Получив результат сражения вы можете изменить бота и продолжить игру. 


## Карта, объекты, события

Игровая карта это плоскость состоящая из **ячеек**, каждая из которых имеет свои собственные координаты **X** и **Y**. Отсчет координат начинается **в верхнем левом углу карты**. На каждой из ячеек могут находится разные объекты:

* Муравей
* Гнездо
* Еда
* Муравей в гнезде своего цвета
* Муравей в гнезде своего цвета с едой
* Гнездо с едой
* Муравей с едой


Еда, разбросанная по карте, содержит **от 1 до 9 единиц** еды. Визуально она изображена тремя типами:
* Маленькая - до 3 единиц еды
* Средняя - до 6 единиц еды
* Большая - до 9 единиц еды

События, происходящие в клетке:
* рождение муравья
* смерть муравья
* простой муравья
* замедление - возникает в спорной ситуации, когда муравьи **разных** ботов пытаются передвинуться на одну и ту же клетку в течение одного тика. В данном случае бот, который **первым** передаст в симуляцию приказ о движении муравья в ячейку выполнит движение, а муравьи остальных ботов получат ошибку с параметром **замедление**. 
* ошибка взятия еды - попытка взять еду из ячейки, в которой еда **отсутствует**.
* ошибка отдачи еды - попытка положить еду в момент, когда у муравья отсутствует еда.
* неправильная попытка есть - попытка поедания еды из соседней клетки, в которой **отсутствует** еда
* Коллизия - возникает при **нелегальном** движении в клетку с другим муравьем, едой, выходе за пределы карты




## Игровые режимы

### Испытания

Здесь вам предстоит преодолеть череду сложных программистских испытаний. Испытания спроектированы с постепенным усложнением и ставят задачи для всех навыков, которые могут пригодиться в игре и в работе. Как только вы пройдете первое испытание, откроется следующее. Пройдите все испытания, чтобы получить различные награды и звание “Неудержимый”.


### Схватка

В этом режиме боты сражаются друг с другом автоматически 1 на 1. Когда вы запускаете бота в бой, он будет сражаться с разными соперниками, пока не проиграет 5 раз. Такая серия игр называется **спринт**. 
Бот получает очки рейтинга когда побеждает в схватке, а когда проигрывает теряет. Система автоматически подбирает близких по уровню противников. 
Важно, чтобы бот сделал как можно больше побед за один **спринт**, потому что в дополнение к очкам бота, это поднимает и рейтинг его создателя. 
В конце спринта вы получите результат и сможете посмотреть все сыгранные игры, проанализировать их и отредактировать бота.

      
### Правила режима Схватка

Игра идет на картах разной заданной конфигурации. У каждого бота есть своя стартовая точка - гнездо. Боты начинают игру с одним муравьем. Чтобы популяция муравьев в колонии росла, необходимо добывать еду и приносить в улей. Новый муравей появится когда в улье накопится 9 еды. Еды на карте не очень много, поэтому муравьи конкурируют за нее. 
Существует два вида источников еды:
* случайная еда - появляется случайно в разных точках карты и содержат малое количество еды
* постоянная еда - находится в определенных точках карты, содержит неисчерпаемое количество еды


В игре побеждает бот, который наберет больше победных очков за 1000 тиков сервера.
	

## Бот и муравьи

**Бот** - это серверный код, который ожидает запросы от симуляции на порту`:7070`. Внутри запроса находится информация о каждом муравье, его положении на карте, а также расположение еды на карте.
Бот осуществляет управление муравьями за счет ответов на HTTP запросы от **симуляции**, которые он “слушает” на порту. 
На основе данных из запроса **бот** принимает решение о следующем **шаге** для **каждого** муравья и отправляет его в симуляцию. Каждый ответ бота это массив с приказами, какое действие необходимо выполнить **каждому муравью** и в каком направлении.
Муравьи могут взаимодействовать **только** с теми **ячейками** (клеточками) на карте, которые находятся вокруг них - слева, справа, сверху, снизу и по диагонали.

Приказ содержит в себе уникальный идентификатор муравья (`antId`), действие (`act`) и направление действия (`dir`), например:

`{ "antId": 1, "act": "unload", "dir": "up" }`,

После получения приказа симуляция обработает его, и сгенерирует новое состояние игры. 
Полный цикл от получения приказа до формирования нового состояния игры называется **тиком**.



### Муравей

У каждого муравья уникальный идентификатор и никогда не повторяется внутри одного муравейника. 
Для получения нового муравья необходимо положить 9 еды в гнездо, после чего еда в гнезде заменяется на нового муравья.
У каждого муравья 9 очков здоровья. Каждые 10 тиков сервера у всех муравьев на карте отнимается 1 очко здоровья - они голодают. Для того, чтобы восполнить здоровье, муравей должен поесть. 1 еда восстанавливает 1 очко здоровья муравья, но не больше 3. 
Возможные действия муравьев :
* <span style="background:black;color:red;">STAY</span> - оставаться на клетке
* <span style="background:black;color:yellow;">MOVE</span> - двигаться в указанном направлении на **одну клетку**
* <span style="background:black;color:green;">EAT</span>- есть еду **с соседней указанной клетки**
* <span style="background:black;color:blue;">TAKE</span> - взять еду **с соседней указанной клетки**
* <span style="background:black;color:orange;">PUT</span> - положить еду **на соседнюю указанную клетку**

Возможные направления:
Муравьи могут двигаться в любом направлении на соседнюю клеточку, включая диагональ. 
* Up - вверх
* Up-Right - по диагонали вверх-вправо
* Up-Left - по диагонали вверх-влево
* Down - вниз
* Down-Right - по диагонали вниз-вправо
* Down-Left - по диагонали вниз-влево
* Left - влево
* Right - вправо
